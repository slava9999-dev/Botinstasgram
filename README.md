# üöÄ VPN Connect ‚Äî Smart Config Generator v2.0

**–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π VPN-—Å–µ—Ä–≤–∏—Å —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π VLESS Reality –∫–æ–Ω—Ñ–∏–≥–æ–≤ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –ø–ª–∞—Ç–µ–∂–µ–π –ÆKassa.**

[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https://github.com/slava9999-dev/Botinstasgram)

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîê **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** –≤ 3X-UI –ø–∞–Ω–µ–ª–∏
- üí≥ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ÆKassa** ‚Äî –ø—Ä–∏—ë–º –ø–ª–∞—Ç–µ–∂–µ–π —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π
- üì± **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π UI** ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- üéØ **–ü—Ä–æ—Å—Ç–æ–π onboarding** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç VPN –∑–∞ 3 –∫–ª–∏–∫–∞
- üîí **VLESS Reality** ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
- ‚ö° **Serverless** ‚Äî –¥–µ–ø–ª–æ–π –Ω–∞ Vercel –±–µ–∑ —Å–µ—Ä–≤–µ—Ä–æ–≤
- üé® **–ö—Ä–∞—Å–∏–≤—ã–π –¥–∏–∑–∞–π–Ω** ‚Äî –ø—Ä–µ–º–∏—É–º UI/UX

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Client    ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  Vercel API  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  3X-UI API  ‚îÇ
‚îÇ  (Browser)  ‚îÇ‚óÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ  (Serverless)‚îÇ‚óÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ   (Panel)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
                            ‚ñº
                     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                     ‚îÇ  –ÆKassa API ‚îÇ
                     ‚îÇ  (Payments) ‚îÇ
                     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üì° API Endpoints

### 1. **POST `/api/payment/create`**

–°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞ –≤ –ÆKassa.

**Request:**

```json
{
  "amount": 99,
  "description": "VPN –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ 30 –¥–Ω–µ–π",
  "email": "user@example.com"
}
```

**Response:**

```json
{
  "success": true,
  "data": {
    "paymentId": "2d8f5c8a-000f-5000-8000-1234567890ab",
    "confirmationUrl": "https://yoomoney.ru/checkout/payments/v2/contract?orderId=...",
    "status": "pending"
  }
}
```

---

### 2. **POST `/api/payment/webhook`**

Webhook –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ—Ç –ÆKassa (–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏).

**Flow:**

1. –ÆKassa –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç–µ
2. –°–æ–∑–¥–∞—ë—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ 3X-UI
3. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è JWT —Ç–æ–∫–µ–Ω —Å –∫–æ–Ω—Ñ–∏–≥–æ–º
4. –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–ª—è `/api/payment/status`

---

### 3. **GET `/api/payment/status?payment_id=xxx`**

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–ª–∞—Ç–µ–∂–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ `success.html`).

**Response:**

```json
{
  "success": true,
  "confirmed": true,
  "data": {
    "configUrl": "https://botinstasgram.vercel.app/api/config/eyJhbGc...",
    "email": "user@example.com",
    "expiresAt": "2025-01-15T10:00:00Z"
  }
}
```

---

### 4. **POST `/api/create-user`**

–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞–ø—Ä—è–º—É—é (–¥–ª—è —Ç–µ—Å—Ç–æ–≤ –∏–ª–∏ Telegram –±–æ—Ç–∞).

**Request:**

```json
{
  "email": "user@example.com",
  "planDuration": 30,
  "secret": "BOT_SECRET"
}
```

**Response:**

```json
{
  "success": true,
  "data": {
    "uuid": "abc-123-def",
    "configToken": "eyJhbGc...",
    "configUrl": "https://botinstasgram.vercel.app/api/config/eyJhbGc...",
    "expiresAt": "2025-01-15T10:00:00Z"
  }
}
```

---

### 5. **GET `/api/config/:token`**

–ü–æ–ª—É—á–µ–Ω–∏–µ Xray JSON –∫–æ–Ω—Ñ–∏–≥–∞ –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –≤ v2rayN/v2rayNG.

**Response:** JSON —Ñ–∞–π–ª —Å –ø–æ–ª–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π.

---

### 6. **GET `/api/link/:token`**

–ü–æ–ª—É—á–µ–Ω–∏–µ VLESS URI –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞.

**Response:**

```json
{
  "success": true,
  "vlessUri": "vless://uuid@server:port?type=tcp&security=reality...",
  "serverName": "VPN-Connect",
  "expiresAt": "2025-01-15T10:00:00Z"
}
```

---

## üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Vercel

### –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/slava9999-dev/Botinstasgram.git
cd Botinstasgram
```

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
npm install
```

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:

```bash
cp .env.example .env
```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**

| Variable              | –û–ø–∏—Å–∞–Ω–∏–µ                         | –ì–¥–µ –≤–∑—è—Ç—å                                                            |
| --------------------- | -------------------------------- | -------------------------------------------------------------------- |
| `JWT_SECRET`          | –°–µ–∫—Ä–µ—Ç –¥–ª—è JWT (–º–∏–Ω. 32 —Å–∏–º–≤–æ–ª–∞) | `openssl rand -base64 32`                                            |
| `YOOKASSA_SHOP_ID`    | ID –º–∞–≥–∞–∑–∏–Ω–∞ –ÆKassa               | [yookassa.ru/my/shop-settings](https://yookassa.ru/my/shop-settings) |
| `YOOKASSA_SECRET_KEY` | –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –ÆKassa            | –¢–∞–º –∂–µ                                                               |
| `PANEL_URL`           | URL 3X-UI –ø–∞–Ω–µ–ª–∏                 | `https://YOUR_VPS_IP:2053`                                           |
| `PANEL_USER`          | –õ–æ–≥–∏–Ω –ø–∞–Ω–µ–ª–∏                     | –ò–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ 3X-UI                                                   |
| `PANEL_PASS`          | –ü–∞—Ä–æ–ª—å –ø–∞–Ω–µ–ª–∏                    | –ò–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ 3X-UI                                                   |
| `INBOUND_ID`          | ID inbound'–∞                     | –û–±—ã—á–Ω–æ `1`                                                           |
| `REALITY_PK`          | Reality Public Key               | –ò–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ inbound                                                  |
| `REALITY_SHORT_ID`    | Reality Short ID                 | –ò–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ inbound                                                  |
| `SNI_DOMAIN`          | SNI –¥–æ–º–µ–Ω                        | `yahoo.com`                                                          |

### –®–∞–≥ 4: –î–µ–ø–ª–æ–π

```bash
# –ß–µ—Ä–µ–∑ Vercel CLI
vercel --prod

# –ò–ª–∏ —á–µ—Ä–µ–∑ GitHub
git push origin main
# –ó–∞—Ç–µ–º –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ vercel.com
```

### –®–∞–≥ 5: –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Vercel

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Vercel Dashboard** ‚Üí –í–∞—à –ø—Ä–æ–µ–∫—Ç ‚Üí **Settings** ‚Üí **Environment Variables**
2. –î–æ–±–∞–≤—å—Ç–µ **–í–°–ï** –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ `.env`
3. –í—ã–±–µ—Ä–∏—Ç–µ **Production**, **Preview**, **Development**
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ —Å–¥–µ–ª–∞–π—Ç–µ **Redeploy**

---

## üõ†Ô∏è –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Vercel CLI
npm i -g vercel

# –ó–∞–ø—É—Å—Ç–∏—Ç—å dev —Å–µ—Ä–≤–µ—Ä
npm run dev

# –û—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–∞ http://localhost:3000
```

---

## üì± –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

| –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞   | –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ   | –°—Å—ã–ª–∫–∞                                                                     |
| ----------- | ------------ | -------------------------------------------------------------------------- |
| **Windows** | v2rayN       | [GitHub](https://github.com/2dust/v2rayN/releases)                         |
| **Android** | v2rayNG      | [Google Play](https://play.google.com/store/apps/details?id=com.v2ray.ang) |
| **iOS**     | Shadowrocket | [App Store](https://apps.apple.com/app/shadowrocket/id932747118) (–ø–ª–∞—Ç–Ω–æ–µ) |
| **macOS**   | V2rayU       | [GitHub](https://github.com/yanue/V2rayU/releases)                         |

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ 3X-UI –Ω–∞ VPS

### 1. –ö—É–ø–∏—Ç—å VPS

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã:

- [Aeza](https://aeza.net) ‚Äî –æ—Ç 200‚ÇΩ/–º–µ—Å
- [Timeweb Cloud](https://timeweb.cloud) ‚Äî –æ—Ç 249‚ÇΩ/–º–µ—Å
- [VDSina](https://vdsina.ru) ‚Äî –æ—Ç 200‚ÇΩ/–º–µ—Å

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**

- 1 CPU, 1 GB RAM, 10 GB SSD
- Ubuntu 22.04 LTS
- –õ–æ–∫–∞—Ü–∏—è: –ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã / –ì–µ—Ä–º–∞–Ω–∏—è

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å 3X-UI

```bash
ssh root@YOUR_VPS_IP

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
bash <(curl -Ls https://raw.githubusercontent.com/mhsanaei/3x-ui/master/install.sh)
```

### 3. –°–æ–∑–¥–∞—Ç—å VLESS Reality Inbound

1. –ó–∞–π—Ç–∏ –≤ –ø–∞–Ω–µ–ª—å: `https://YOUR_VPS_IP:2053`
2. **Inbounds** ‚Üí **Add Inbound**
3. –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
   - Protocol: **VLESS**
   - Network: **TCP**
   - Security: **Reality**
   - uTLS: **Chrome**
   - Dest: `yahoo.com:443`
   - SNI: `yahoo.com`
4. –ù–∞–∂–∞—Ç—å **Generate** –¥–ª—è Reality Keys
5. **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å** Public Key –∏ Short ID

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞—Ç—ë–∂

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–ª—é—á–∏ –ÆKassa (`test_...`)
2. –¢–µ—Å—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞: `5555 5555 5555 4477`, —Å—Ä–æ–∫ `12/24`, CVC `123`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ webhook –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è (–ª–æ–≥–∏ –≤ Vercel)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞

```bash
# –°–∫–∞—á–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥
curl https://botinstasgram.vercel.app/api/config/YOUR_TOKEN > config.json

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É
cat config.json | jq .
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### Vercel Logs

```bash
vercel logs --follow
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ webhook'–æ–≤

1. Vercel Dashboard ‚Üí Functions ‚Üí `api/payment/webhook.ts`
2. –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤—ã–∑–æ–≤–æ–≤

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ JWT —Ç–æ–∫–µ–Ω—ã —Å expiration
- ‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ Vercel Environment Variables
- ‚ö†Ô∏è **TODO**: Rate limiting (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

---

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **GitHub Issues**: [–°–æ–∑–¥–∞—Ç—å issue](https://github.com/slava9999-dev/Botinstasgram/issues)
- **Email**: support@vpnconnect.ru (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–π)

---

## üìù Changelog

### v2.0.0 (2025-12-16)

- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ÆKassa
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ VLESS Reality –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π UI
- ‚úÖ Webhook –æ–±—Ä–∞–±–æ—Ç–∫–∞

### v1.0.0 (2025-12-15)

- üéâ –ü–µ—Ä–≤—ã–π —Ä–µ–ª–∏–∑

---

**Made with ‚ù§Ô∏è by NeuroExpert Team**
