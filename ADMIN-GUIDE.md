# üéõÔ∏è –†–£–ö–û–í–û–î–°–¢–í–û –ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–û–†–ê VPN CONNECT

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 18 –¥–µ–∫–∞–±—Ä—è 2025  
**–î–ª—è:** –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Å–µ—Ä–≤–∏—Å–∞

---

## üìä –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –°–ò–°–¢–ï–ú–´

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  TELEGRAM BOT   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   VERCEL        ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   VPS (3X-UI)   ‚îÇ
‚îÇ  (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏) ‚îÇ     ‚îÇ   (API + KV)    ‚îÇ     ‚îÇ   (VPN —Å–µ—Ä–≤–µ—Ä)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç        | URL                      | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                        |
| ---------------- | ------------------------ | --------------------------------- |
| **Telegram Bot** | @your_bot                | –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π           |
| **Vercel**       | botinstasgram.vercel.app | API + –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (KV)            |
| **3X-UI Panel**  | https://YOUR_VPS_IP:PORT | VPN —Å–µ—Ä–≤–µ—Ä + —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏ |

---

# 1Ô∏è‚É£ VERCEL KV (–ë–ê–ó–ê –î–ê–ù–ù–´–•)

## –ß—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ Vercel KV:

| –ö–ª—é—á           | –î–∞–Ω–Ω—ã–µ | –û–ø–∏—Å–∞–Ω–∏–µ                           |
| -------------- | ------ | ---------------------------------- |
| `trial:TG_ID`  | JSON   | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ trial –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ    |
| `payment:ID`   | JSON   | –î–∞–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∞                     |
| `ratelimit:IP` | —á–∏—Å–ª–æ  | –°—á—ë—Ç—á–∏–∫ –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è rate limiting |

## –ö–∞–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–∞–Ω–Ω—ã–µ:

### –ß–µ—Ä–µ–∑ Vercel Dashboard:

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://vercel.com/dashboard
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç `Botinstasgram`
3. –í–∫–ª–∞–¥–∫–∞ **Storage** ‚Üí **KV**
4. –í—ã —É–≤–∏–¥–∏—Ç–µ –≤—Å–µ –∫–ª—é—á–∏ –∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è

### –ß–µ—Ä–µ–∑ CLI:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Vercel CLI
npm i -g vercel

# –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å
vercel login

# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∫–ª—é—á–µ–π
vercel kv keys "*"

# –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
vercel kv get "trial:123456789"

# –£–¥–∞–ª–∏—Ç—å –∫–ª—é—á
vercel kv del "trial:123456789"
```

## –ü–æ–ª–µ–∑–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:

### –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö trial –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

```bash
vercel kv keys "trial:*"
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø–ª–∞—Ç–µ–∂–µ–π:

```bash
vercel kv keys "payment:*"
```

### –°–±—Ä–æ—Å trial –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–¥–∞—Ç—å –Ω–æ–≤—ã–π trial):

```bash
vercel kv del "trial:TELEGRAM_ID"
```

---

# 2Ô∏è‚É£ 3X-UI –ü–ê–ù–ï–õ–¨ (VPN –°–ï–†–í–ï–†)

## –î–æ—Å—Ç—É–ø –∫ –ø–∞–Ω–µ–ª–∏:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ                               |
| -------- | -------------------------------------- |
| URL      | `https://YOUR_VPS_IP:YOUR_PORT/panel/` |
| –õ–æ–≥–∏–Ω    | –í–∞—à PANEL_USER                         |
| –ü–∞—Ä–æ–ª—å   | –í–∞—à PANEL_PASS                         |

## –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã:

### üìä Dashboard (–ì–ª–∞–≤–Ω–∞—è)

- **System Status** ‚Äî –Ω–∞–≥—Ä—É–∑–∫–∞ CPU, RAM, –¥–∏—Å–∫
- **Network Traffic** ‚Äî –≤—Ö–æ–¥—è—â–∏–π/–∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫
- **Active Connections** ‚Äî —Ç–µ–∫—É—â–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### üìã Inbounds (–í—Ö–æ–¥—è—â–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è)

–ó–¥–µ—Å—å –≤–∞—à VLESS Reality inbound —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏.

**–ü—Ä–æ—Å–º–æ—Ç—Ä –∫–ª–∏–µ–Ω—Ç–æ–≤:**

1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –≤–∞—à inbound
2. –†–∞—Å–∫—Ä–æ–π—Ç–µ —Å–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤
3. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ –≤–∏–¥–Ω–æ:
   - `email` ‚Äî –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (tg_XXXXXX@vpn.local)
   - `expiryTime` ‚Äî –¥–∞—Ç–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è
   - `enable` ‚Äî –∞–∫—Ç–∏–≤–µ–Ω –ª–∏
   - `up/down` ‚Äî —Ç—Ä–∞—Ñ–∏–∫

### üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏:

**–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞:**

1. –ù–∞–π–¥–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ email
2. –ù–∞–∂–º–∏—Ç–µ Edit (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å)
3. –°–Ω–∏–º–∏—Ç–µ –≥–∞–ª–æ—á–∫—É `Enable`
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

**–£–¥–∞–ª–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞:**

1. –ù–∞–π–¥–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç–∞
2. –ù–∞–∂–º–∏—Ç–µ Delete
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ

**–ü—Ä–æ–¥–ª–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É:**

1. –ù–∞–π–¥–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç–∞
2. Edit ‚Üí –∏–∑–º–µ–Ω–∏—Ç–µ `expiryTime`
3. –§–æ—Ä–º–∞—Ç: Unix timestamp –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö –∏–ª–∏ –¥–∞—Ç–∞

**–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç—Ä–∞—Ñ–∏–∫ –∫–ª–∏–µ–Ω—Ç–∞:**

1. Inbounds ‚Üí –≤–∞—à inbound
2. –í —Ç–∞–±–ª–∏—Ü–µ –≤–∏–¥–Ω–æ `up` (–∏—Å—Ö–æ–¥—è—â–∏–π) –∏ `down` (–≤—Ö–æ–¥—è—â–∏–π) –≤ –±–∞–π—Ç–∞—Ö

---

# 3Ô∏è‚É£ –ú–û–ù–ò–¢–û–†–ò–ù–ì VPS –°–ï–†–í–ï–†–ê

## SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:

```bash
ssh root@YOUR_VPS_IP
```

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:

### –ù–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã:

```bash
# –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
htop

# –ò–ª–∏ –µ—Å–ª–∏ htop –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
top

# –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
uptime
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞:

```bash
df -h
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAM:

```bash
free -h
```

### –°–µ—Ç–µ–≤–æ–π —Ç—Ä–∞—Ñ–∏–∫:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –µ—Å–ª–∏ –Ω–µ—Ç
apt install vnstat

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ —Å–µ–≥–æ–¥–Ω—è
vnstat -d

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –º–µ—Å—è—Ü
vnstat -m

# –ñ–∏–≤–æ–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
vnstat -l
```

### –°—Ç–∞—Ç—É—Å 3X-UI:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
systemctl status x-ui

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
systemctl restart x-ui

# –õ–æ–≥–∏
journalctl -u x-ui -f
```

### –°—Ç–∞—Ç—É—Å Xray:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
systemctl status xray

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
systemctl restart xray

# –õ–æ–≥–∏
journalctl -u xray -f
```

### –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:

```bash
# –í—Å–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–∞ –ø–æ—Ä—Ç—É VPN (–∑–∞–º–µ–Ω–∏—Ç–µ 443 –Ω–∞ –≤–∞—à –ø–æ—Ä—Ç)
ss -tnp | grep 443

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
ss -tnp | grep 443 | wc -l
```

---

# 4Ô∏è‚É£ POWERSHELL –°–ö–†–ò–ü–¢–´ –î–ò–ê–ì–ù–û–°–¢–ò–ö–ò

## –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–∏ —Å–∫—Ä–∏–ø—Ç—ã –≤ –ø–∞–ø–∫—É `scripts/`

---

## 4.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è API

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `scripts/check-health.ps1`:

```powershell
# check-health.ps1 - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ API

$baseUrl = "https://botinstasgram.vercel.app"

Write-Host "üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê VPN CONNECT" -ForegroundColor Cyan
Write-Host "=========================" -ForegroundColor Cyan
Write-Host ""

# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ API health
Write-Host "1. –ü—Ä–æ–≤–µ—Ä–∫–∞ API Health..." -ForegroundColor Yellow
try {
    $health = Invoke-WebRequest -Uri "$baseUrl/api/health" -Method Get -TimeoutSec 10
    if ($health.StatusCode -eq 200) {
        Write-Host "   ‚úÖ API —Ä–∞–±–æ—Ç–∞–µ—Ç (HTTP 200)" -ForegroundColor Green
        $data = $health.Content | ConvertFrom-Json
        Write-Host "   üìä Panel: $($data.panel)" -ForegroundColor Gray
    }
} catch {
    Write-Host "   ‚ùå API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω: $($_.Exception.Message)" -ForegroundColor Red
}

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–µ–Ω–¥–∏–Ω–≥–∞
Write-Host ""
Write-Host "2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–µ–Ω–¥–∏–Ω–≥–∞..." -ForegroundColor Yellow
try {
    $landing = Invoke-WebRequest -Uri "$baseUrl/" -Method Head -TimeoutSec 10
    if ($landing.StatusCode -eq 200) {
        Write-Host "   ‚úÖ –õ–µ–Ω–¥–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç" -ForegroundColor Green
    }
} catch {
    Write-Host "   ‚ùå –õ–µ–Ω–¥–∏–Ω–≥ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω" -ForegroundColor Red
}

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ñ–µ—Ä—Ç—ã
Write-Host ""
Write-Host "3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–≥–æ–≤–æ—Ä–∞ –æ—Ñ–µ—Ä—Ç—ã..." -ForegroundColor Yellow
try {
    $offer = Invoke-WebRequest -Uri "$baseUrl/offer.html" -Method Head -TimeoutSec 10
    if ($offer.StatusCode -eq 200) {
        Write-Host "   ‚úÖ –û—Ñ–µ—Ä—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω–∞" -ForegroundColor Green
    }
} catch {
    Write-Host "   ‚ùå –û—Ñ–µ—Ä—Ç–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞" -ForegroundColor Red
}

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–æ—Ç–∞
Write-Host ""
Write-Host "4. –ü—Ä–æ–≤–µ—Ä–∫–∞ Telegram Bot API..." -ForegroundColor Yellow
try {
    $botActions = Invoke-WebRequest -Uri "$baseUrl/api/bot/actions?action=offer" -Method Get -MaximumRedirection 0 -ErrorAction SilentlyContinue
} catch {
    if ($_.Exception.Response.StatusCode -eq 302) {
        Write-Host "   ‚úÖ Bot Actions —Ä–∞–±–æ—Ç–∞–µ—Ç (—Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –æ—Ñ–µ—Ä—Ç—É)" -ForegroundColor Green
    } else {
        Write-Host "   ‚ö†Ô∏è Bot Actions: $($_.Exception.Message)" -ForegroundColor Yellow
    }
}

Write-Host ""
Write-Host "=========================" -ForegroundColor Cyan
Write-Host "–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!" -ForegroundColor Cyan
```

---

## 4.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ VPS –∏ 3X-UI

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `scripts/check-vps.ps1`:

```powershell
# check-vps.ps1 - –ü—Ä–æ–≤–µ—Ä–∫–∞ VPS –∏ 3X-UI

param(
    [Parameter(Mandatory=$true)]
    [string]$VpsIP,

    [Parameter(Mandatory=$true)]
    [int]$VpnPort = 443
)

Write-Host "üñ•Ô∏è –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê VPS" -ForegroundColor Cyan
Write-Host "==================" -ForegroundColor Cyan
Write-Host ""

# 1. Ping VPS
Write-Host "1. Ping VPS ($VpsIP)..." -ForegroundColor Yellow
$ping = Test-Connection -ComputerName $VpsIP -Count 3 -Quiet
if ($ping) {
    Write-Host "   ‚úÖ VPS –¥–æ—Å—Ç—É–ø–µ–Ω" -ForegroundColor Green
} else {
    Write-Host "   ‚ùå VPS –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ ping" -ForegroundColor Red
}

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ VPN –ø–æ—Ä—Ç–∞
Write-Host ""
Write-Host "2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–∞ VPN ($VpnPort)..." -ForegroundColor Yellow
try {
    $tcpClient = New-Object System.Net.Sockets.TcpClient
    $tcpClient.Connect($VpsIP, $VpnPort)
    $tcpClient.Close()
    Write-Host "   ‚úÖ –ü–æ—Ä—Ç $VpnPort –æ—Ç–∫—Ä—ã—Ç" -ForegroundColor Green
} catch {
    Write-Host "   ‚ùå –ü–æ—Ä—Ç $VpnPort –∑–∞–∫—Ä—ã—Ç –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω" -ForegroundColor Red
}

Write-Host ""
Write-Host "==================" -ForegroundColor Cyan
Write-Host "–î–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –ø–æ SSH:" -ForegroundColor Gray
Write-Host "ssh root@$VpsIP" -ForegroundColor White
```

---

## 4.3 –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Vercel –ª–æ–≥–æ–≤

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `scripts/watch-logs.ps1`:

```powershell
# watch-logs.ps1 - –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ Vercel

Write-Host "üìã –î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤ Vercel –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:" -ForegroundColor Cyan
Write-Host ""
Write-Host "1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://vercel.com/dashboard" -ForegroundColor White
Write-Host "2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç Botinstasgram" -ForegroundColor White
Write-Host "3. –í–∫–ª–∞–¥–∫–∞ 'Logs'" -ForegroundColor White
Write-Host "4. –í—ã–±–µ—Ä–∏—Ç–µ 'Runtime Logs' –¥–ª—è API –ª–æ–≥–æ–≤" -ForegroundColor White
Write-Host ""
Write-Host "–ò–ª–∏ —á–µ—Ä–µ–∑ CLI:" -ForegroundColor Yellow
Write-Host "vercel logs --follow" -ForegroundColor Green
```

---

## 4.4 –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ–≥–æ

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `scripts/full-check.ps1`:

```powershell
# full-check.ps1 - –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã

param(
    [string]$VpsIP = "",
    [int]$VpnPort = 443
)

$baseUrl = "https://botinstasgram.vercel.app"

Write-Host ""
Write-Host "‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó" -ForegroundColor Cyan
Write-Host "‚ïë     VPN CONNECT - –ü–û–õ–ù–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê   ‚ïë" -ForegroundColor Cyan
Write-Host "‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù" -ForegroundColor Cyan
Write-Host ""
Write-Host "–í—Ä–µ–º—è: $(Get-Date -Format 'yyyy-MM-dd HH:mm:ss')" -ForegroundColor Gray
Write-Host ""

$results = @()

# 1. Vercel API
Write-Host "üì° VERCEL API" -ForegroundColor Yellow
Write-Host "‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ" -ForegroundColor Gray

$endpoints = @(
    @{Name="Health"; Url="/api/health"},
    @{Name="Landing"; Url="/"},
    @{Name="Offer"; Url="/offer.html"},
    @{Name="Success"; Url="/success.html"}
)

foreach ($ep in $endpoints) {
    try {
        $response = Invoke-WebRequest -Uri "$baseUrl$($ep.Url)" -Method Head -TimeoutSec 10
        Write-Host "   ‚úÖ $($ep.Name)" -ForegroundColor Green
        $results += [PSCustomObject]@{Component=$ep.Name; Status="OK"}
    } catch {
        Write-Host "   ‚ùå $($ep.Name)" -ForegroundColor Red
        $results += [PSCustomObject]@{Component=$ep.Name; Status="FAIL"}
    }
}

# 2. VPS (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω)
if ($VpsIP) {
    Write-Host ""
    Write-Host "üñ•Ô∏è VPS SERVER" -ForegroundColor Yellow
    Write-Host "‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ" -ForegroundColor Gray

    # Ping
    $ping = Test-Connection -ComputerName $VpsIP -Count 1 -Quiet
    if ($ping) {
        Write-Host "   ‚úÖ Ping" -ForegroundColor Green
        $results += [PSCustomObject]@{Component="VPS Ping"; Status="OK"}
    } else {
        Write-Host "   ‚ùå Ping" -ForegroundColor Red
        $results += [PSCustomObject]@{Component="VPS Ping"; Status="FAIL"}
    }

    # Port
    try {
        $tcpClient = New-Object System.Net.Sockets.TcpClient
        $tcpClient.Connect($VpsIP, $VpnPort)
        $tcpClient.Close()
        Write-Host "   ‚úÖ Port $VpnPort" -ForegroundColor Green
        $results += [PSCustomObject]@{Component="VPN Port"; Status="OK"}
    } catch {
        Write-Host "   ‚ùå Port $VpnPort" -ForegroundColor Red
        $results += [PSCustomObject]@{Component="VPN Port"; Status="FAIL"}
    }
}

# –ò—Ç–æ–≥–∏
Write-Host ""
Write-Host "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê" -ForegroundColor Cyan
$okCount = ($results | Where-Object { $_.Status -eq "OK" }).Count
$failCount = ($results | Where-Object { $_.Status -eq "FAIL" }).Count

if ($failCount -eq 0) {
    Write-Host "‚úÖ –í–°–Å –†–ê–ë–û–¢–ê–ï–¢! ($okCount/$($results.Count) –ø—Ä–æ–≤–µ—Ä–æ–∫)" -ForegroundColor Green
} else {
    Write-Host "‚ö†Ô∏è –ï–°–¢–¨ –ü–†–û–ë–õ–ï–ú–´: $failCount –∏–∑ $($results.Count) –ø—Ä–æ–≤–µ—Ä–æ–∫ failed" -ForegroundColor Red
}
Write-Host ""
```

---

# 5Ô∏è‚É£ –ë–´–°–¢–†–´–ï –ö–û–ú–ê–ù–î–´

## –¢–µ—Ä–º–∏–Ω–∞–ª (PowerShell):

```powershell
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API
Invoke-WebRequest -Uri "https://botinstasgram.vercel.app/api/health" | Select-Object StatusCode, Content

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–ø–ª–∞—Ç—É —Ä–∞–±–æ—Ç–∞–µ—Ç (–¥–æ–ª–∂–µ–Ω —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç—å –Ω–∞ YooKassa)
Invoke-WebRequest -Uri "https://botinstasgram.vercel.app/api/bot/actions?action=pay&tg_id=123" -MaximumRedirection 0

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ VPN (–¥–æ–ª–∂–µ–Ω —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç—å –Ω–∞ /api/go/)
Invoke-WebRequest -Uri "https://botinstasgram.vercel.app/api/bot/actions?action=vpn&tg_id=123" -MaximumRedirection 0
```

## SSH –∫–æ–º–∞–Ω–¥—ã –¥–ª—è VPS:

```bash
# –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ–≥–æ
systemctl status x-ui && systemctl status xray && free -h && df -h

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö VPN —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
ss -tnp | grep :443 | wc -l

# –¢–æ–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ —Ç—Ä–∞—Ñ–∏–∫—É (–≤ 3X-UI –ø–∞–Ω–µ–ª–∏)

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ VPN —Å–µ—Ä–≤–µ—Ä–∞
systemctl restart x-ui && systemctl restart xray
```

---

# 6Ô∏è‚É£ –ß–¢–û –î–ï–õ–ê–¢–¨ –ï–°–õ–ò...

## ‚ùå API –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å Vercel: https://vercel-status.com
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: Vercel Dashboard ‚Üí Logs
3. –°–¥–µ–ª–∞–π—Ç–µ Redeploy: Deployments ‚Üí Redeploy

## ‚ùå VPN –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ VPS –¥–æ—Å—Ç—É–ø–µ–Ω: `ping YOUR_VPS_IP`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç –æ—Ç–∫—Ä—ã—Ç: `Test-NetConnection YOUR_VPS_IP -Port 443`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ 3X-UI —Ä–∞–±–æ—Ç–∞–µ—Ç: SSH ‚Üí `systemctl status x-ui`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Xray —Ä–∞–±–æ—Ç–∞–µ—Ç: SSH ‚Üí `systemctl status xray`

## ‚ùå –û–ø–ª–∞—Ç–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Vercel: `YOOKASSA_SHOP_ID`, `YOOKASSA_SECRET_KEY`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∫–ª—é—á–∏ –±–æ–µ–≤—ã–µ (–Ω–µ —Ç–µ—Å—Ç–æ–≤—ã–µ)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ webhook URL –≤ –ÆKassa: `https://botinstasgram.vercel.app/api/payment/webhook`

## ‚ùå –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `TELEGRAM_BOT_TOKEN` –≤ Vercel
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ webhook: `https://api.telegram.org/botYOUR_TOKEN/getWebhookInfo`
3. –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ webhook: –∑–∞–ø—É—Å—Ç–∏—Ç–µ `scripts/setup-telegram-webhook.js`

---

# 7Ô∏è‚É£ –ú–ï–¢–†–ò–ö–ò –ò KPI

## –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:

| –ú–µ—Ç—Ä–∏–∫–∞           | –ì–¥–µ —Å–º–æ—Ç—Ä–µ—Ç—å     | –ù–æ—Ä–º–∞         |
| ----------------- | ---------------- | ------------- |
| API –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞  | Vercel Analytics | < 500ms       |
| Rate limit errors | Vercel Logs      | < 1% –∑–∞–ø—Ä–æ—Å–æ–≤ |
| –£—Å–ø–µ—à–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏  | –ÆKassa Dashboard | -             |
| –ê–∫—Ç–∏–≤–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã  | 3X-UI Panel      | -             |
| –¢—Ä–∞—Ñ–∏–∫ VPN        | 3X-UI / vnstat   | -             |
| CPU VPS           | htop / 3X-UI     | < 80%         |
| RAM VPS           | free -h          | < 80%         |
| –î–∏—Å–∫ VPS          | df -h            | < 80%         |

---

# 8Ô∏è‚É£ –ö–û–ù–¢–ê–ö–¢–´ –ò –†–ï–°–£–†–°–´

| –†–µ—Å—É—Ä—Å           | URL                                |
| ---------------- | ---------------------------------- |
| Vercel Dashboard | https://vercel.com/dashboard       |
| –ÆKassa Dashboard | https://yookassa.ru/my             |
| 3X-UI GitHub     | https://github.com/MHSanaei/3x-ui  |
| Telegram Bot API | https://core.telegram.org/bots/api |

---

**–£–¥–∞—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞! üöÄ**
