# üöÄ DEPLOYMENT CHECKLIST ‚Äî –ü–µ—Ä–µ—Ö–æ–¥ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω

**–î–∞—Ç–∞:** **\*\*\*\***\_**\*\*\*\***  
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** **\*\*\*\***\_**\*\*\*\***

---

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û: –ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º –í –ü–†–û–î–ê–ö–®–ï–ù

### 1. üîê Telegram ID Validation

- [ ] **–£–±—Ä–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π fallback –≤ `public/index.html`**

  ```javascript
  // –ë–´–õ–û (—Ç–µ—Å—Ç):
  const telegramId = getTelegramId() || `test_${Date.now()}...`;

  // –î–û–õ–ñ–ù–û –ë–´–¢–¨ (–ø—Ä–æ–¥–∞–∫—à–µ–Ω):
  const telegramId = getTelegramId();
  ```

- [ ] **–†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `getVPN()`** (—Å—Ç—Ä–æ–∫–∞ 563-569)

  ```javascript
  if (!telegramId) {
    showError("–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Å—ã–ª–∫—É —á–µ—Ä–µ–∑ Telegram –±–æ—Ç");
    resetButton();
    return;
  }
  ```

- [ ] **–†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å warning –≤ —Å—Ç—Ä–æ–∫–µ 560**
  ```javascript
  if (!getTelegramId()) {
    document.getElementById("tg-warning").classList.remove("hidden");
  }
  ```

---

### 2. üîë Environment Variables (Vercel Dashboard)

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**

- [ ] `JWT_SECRET` ‚Äî –º–∏–Ω–∏–º—É–º 32 —Å–∏–º–≤–æ–ª–∞

  ```bash
  # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å:
  openssl rand -base64 32
  ```

- [ ] `PANEL_URL` ‚Äî URL –≤–∞—à–µ–≥–æ VPS —Å 3X-UI

  ```
  –ü—Ä–∏–º–µ—Ä: https://72.56.64.62:2053
  ```

- [ ] `PANEL_USER` ‚Äî –ª–æ–≥–∏–Ω –ø–∞–Ω–µ–ª–∏
- [ ] `PANEL_PASS` ‚Äî –ø–∞—Ä–æ–ª—å –ø–∞–Ω–µ–ª–∏
- [ ] `INBOUND_ID` ‚Äî ID inbound (–æ–±—ã—á–Ω–æ `1`)
- [ ] `REALITY_PK` ‚Äî Reality Public Key
- [ ] `REALITY_SHORT_ID` ‚Äî Reality Short ID
- [ ] `SNI_DOMAIN` ‚Äî SNI –¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, `www.microsoft.com`)

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π:**

- [ ] `YOOKASSA_SHOP_ID` ‚Äî ID –º–∞–≥–∞–∑–∏–Ω–∞ –Æ–ö–∞—Å—Å–∞
- [ ] `YOOKASSA_SECRET_KEY` ‚Äî –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á (live\_ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞!)

---

### 3. üñ•Ô∏è VPS –∏ 3X-UI Panel

- [ ] VPS –∫—É–ø–ª–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
- [ ] 3X-UI —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] VLESS Reality inbound —Å–æ–∑–¥–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü–æ—Ä—Ç 443 –æ—Ç–∫—Ä—ã—Ç –≤ —Ñ–∞–µ—Ä–≤–æ–ª–µ
- [ ] HTTPS –¥–æ—Å—Ç—É–ø –∫ –ø–∞–Ω–µ–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç (https://IP:2053)
- [ ] –¢–µ—Å—Ç–æ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ø–∞–Ω–µ–ª–∏ —É—Å–ø–µ—à–Ω–æ

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**

```bash
curl https://YOUR_VPS_IP:2053 -k
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å HTML —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–∞–Ω–µ–ª–∏
```

---

### 4. üí≥ YooKassa –ù–∞—Å—Ç—Ä–æ–π–∫–∞

- [ ] –ê–∫–∫–∞—É–Ω—Ç –Æ–ö–∞—Å—Å–∞ —Å–æ–∑–¥–∞–Ω –∏ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω
- [ ] **–¢–µ—Å—Ç–æ–≤—ã–µ –∫–ª—é—á–∏ –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ LIVE**
- [ ] Webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω:
  ```
  URL: https://botinstasgram.vercel.app/api/payment/webhook
  –°–æ–±—ã—Ç–∏—è: payment.succeeded, payment.canceled
  ```
- [ ] Webhook —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω (–ø–æ–ª—É—á–µ–Ω —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å)

**–¢–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞—Ç—ë–∂:**

- [ ] –ü–ª–∞—Ç—ë–∂ —á–µ—Ä–µ–∑ —Ç–µ—Å—Ç–æ–≤—É—é –∫–∞—Ä—Ç—É –ø—Ä–æ—à—ë–ª
- [ ] Webhook —Å—Ä–∞–±–æ—Ç–∞–ª –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏–ª –∫–æ–Ω—Ñ–∏–≥

---

### 5. üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**Backend API:**

- [ ] `/api/health` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `status: "healthy"`
- [ ] `/api/create-user` —Å–æ–∑–¥–∞—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] `/api/config/[token]` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥
- [ ] `/api/payment/create` —Å–æ–∑–¥–∞—ë—Ç –ø–ª–∞—Ç—ë–∂
- [ ] `/api/payment/webhook` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**Frontend:**

- [ ] –õ–µ–Ω–¥–∏–Ω–≥ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ö–Ω–æ–ø–∫–∞ "–ü–æ–ª—É—á–∏—Ç—å VPN" —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ö–Ω–æ–ø–∫–∞ "–û–ø–ª–∞—Ç–∏—Ç—å" —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ —É—Å–ø–µ—Ö–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã
- [ ] Deep links —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ iOS/Android

**VPN –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**

- [ ] –ö–æ–Ω—Ñ–∏–≥ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ –∫–ª–∏–µ–Ω—Ç (Hiddify/FoXray)
- [ ] VPN –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
- [ ] Instagram –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ VPN
- [ ] –¢—Ä–∞—Ñ–∏–∫ –∏–¥—ë—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

### 6. üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- [ ] Sentry (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ø–æ–¥–∫–ª—é—á—ë–Ω –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫
- [ ] Vercel Analytics (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –¥–ª—è –º–µ—Ç—Ä–∏–∫
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –∞–ª–µ—Ä—Ç—ã –≤ Vercel –¥–ª—è –æ—à–∏–±–æ–∫ API

---

### 7. üìÑ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [ ] README.md –∞–∫—Ç—É–∞–ª–µ–Ω
- [ ] .env.example –∑–∞–ø–æ–ª–Ω–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –û—Ñ–µ—Ä—Ç–∞ (`/offer.html`) —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- [ ] –ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –∞–∫—Ç—É–∞–ª—å–Ω–∞

---

### 8. üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- [ ] –í—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ Environment Variables (–Ω–µ –≤ –∫–æ–¥–µ!)
- [ ] `.env` –≤ `.gitignore`
- [ ] Rate limiting –≤–∫–ª—é—á—ë–Ω
- [ ] CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ù–µ—Ç hardcoded credentials –≤ –∫–æ–¥–µ

---

### 9. üö¶ Pre-Launch Checks

**Health Check:**

```bash
curl https://botinstasgram.vercel.app/api/health
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

```json
{
  "status": "healthy",
  "services": {
    "jwt": { "status": "ok" },
    "yookassa": { "status": "ok" },
    "panel": { "status": "ok" },
    "reality": { "status": "ok" }
  }
}
```

**–ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏:**

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Vercel Logs
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Environment Variables
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å VPS
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å credentials

---

### 10. üéØ Launch Day Actions

**–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º:**

1. [ ] –°–¥–µ–ª–∞—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–π backup –∫–æ–¥–∞
2. [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ env variables –≤ Production
3. [ ] –ü—Ä–æ–≤–µ—Å—Ç–∏ smoke test –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

**–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:**

1. [ ] –°–ª–µ–¥–∏—Ç—å –∑–∞ Vercel Logs –ø–µ—Ä–≤—ã–µ 24 —á–∞—Å–∞
2. [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–ª–∞—Ç–µ–∂–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç
3. [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç VPN
4. [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ VPS

---

### 11. üì± Telegram Bot (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –±—É–¥—É—â–µ–µ)

- [ ] Telegram –±–æ—Ç —Å–æ–∑–¥–∞–Ω
- [ ] Webhook –¥–ª—è –±–æ—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –ì–ª—É–±–æ–∫–∏–µ —Å—Å—ã–ª–∫–∏ (deep links) —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ö–æ–º–∞–Ω–¥—ã `/start`, `/help` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

---

## ‚úÖ –ì–û–¢–û–í–û –ö –ü–†–û–î–ê–ö–®–ï–ù–£

–î–∞—Ç–∞ –∑–∞–ø—É—Å–∫–∞: **\*\*\*\***\_**\*\*\*\***

**–ü–æ–¥–ø–∏—Å—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ:** **\*\*\*\***\_**\*\*\*\***

---

## üÜò Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: Health check –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `/api/health` endpoint
2. –ò–∑—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏ –≤ response
3. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é/—Å–µ—Ä–≤–∏—Å
4. Redeploy

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–ª–∞—Ç–µ–∂–∏ –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç

**–†–µ—à–µ–Ω–∏–µ:**

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å YOOKASSA_SHOP_ID –∏ SECRET_KEY
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å webhook URL –≤ –Æ–ö–∞—Å—Å–∞
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ `/api/payment/webhook`
4. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è LIVE –∫–ª—é—á–∏, –∞ –Ω–µ TEST

### –ü—Ä–æ–±–ª–µ–º–∞: VPN –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å VPS
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ 3X-UI –∑–∞–ø—É—â–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å REALITY –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ inbound –∞–∫—Ç–∏–≤–µ–Ω –≤ –ø–∞–Ω–µ–ª–∏

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **GitHub Issues:** https://github.com/slava9999-dev/Botinstasgram/issues
- **Email:** [–≤–∞—à email]
- **Telegram:** [–≤–∞—à telegram]

---

**–í–µ—Ä—Å–∏—è —á–µ–∫–ª–∏—Å—Ç–∞:** 1.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-12-17
