# ü§ñ Telegram Bot Setup Guide

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç @BotFather

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
2. –ù–∞–π–¥–∏—Ç–µ [@BotFather](https://t.me/BotFather)
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot` (–µ—Å–ª–∏ —Å–æ–∑–¥–∞—ë—Ç–µ –Ω–æ–≤–æ–≥–æ) –∏–ª–∏ `/mybots` (–µ—Å–ª–∏ –±–æ—Ç —É–∂–µ –µ—Å—Ç—å)
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω (—Ñ–æ—Ä–º–∞—Ç: `1234567890:ABCdefGHIjklMNOpqrsTUVwxyz`)

### 2. –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ Vercel

```bash
# –í Vercel Dashboard:
# Settings ‚Üí Environment Variables ‚Üí Add New

Name: TELEGRAM_BOT_TOKEN
Value: –≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather
Environment: Production, Preview, Development
```

–ò–ª–∏ —á–µ—Ä–µ–∑ CLI:

```bash
vercel env add TELEGRAM_BOT_TOKEN
```

### 3. –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç

```bash
git add .
git commit -m "feat: add telegram bot webhook"
git push origin main
```

Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è.

### 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ webhook

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–æ–∫–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ –¥–ª—è —Å–∫—Ä–∏–ø—Ç–∞
export TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
node scripts/setup-telegram-webhook.js
```

**–ò–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –≤—Ä—É—á–Ω—É—é:**

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

```
https://api.telegram.org/bot<YOUR_BOT_TOKEN>/setWebhook?url=https://botinstasgram.vercel.app/api/bot/webhook
```

–ó–∞–º–µ–Ω–∏—Ç–µ `<YOUR_BOT_TOKEN>` –Ω–∞ –≤–∞—à —Ç–æ–∫–µ–Ω.

### 5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –±–æ—Ç–∞

1. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ü–æ–ª—É—á–∏—Ç—å VPN"
4. –í—ã –±—É–¥–µ—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ —Å–∞–π—Ç —Å –≤–∞—à–∏–º Telegram ID –≤ URL

---

## üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ webhook

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–π webhook
curl https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getWebhookInfo
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å:

```json
{
  "ok": true,
  "result": {
    "url": "https://botinstasgram.vercel.app/api/bot/webhook",
    "has_custom_certificate": false,
    "pending_update_count": 0
  }
}
```

---

## üìù –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start` - –ü–æ–ª—É—á–∏—Ç—å VPN (–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É)
- `/help` - –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É

---

## üêõ Troubleshooting

### Webhook –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω:**

   ```bash
   curl https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getMe
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ endpoint –¥–æ—Å—Ç—É–ø–µ–Ω:**

   ```bash
   curl https://botinstasgram.vercel.app/api/bot/webhook
   ```

   –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: `{"error":"Method not allowed"}`

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Vercel:**
   - Vercel Dashboard ‚Üí Functions ‚Üí `api/bot/webhook.ts`
   - –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ `/start` –±–æ—Ç—É

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω (—Å–º. –≤—ã—à–µ)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `TELEGRAM_BOT_TOKEN` –¥–æ–±–∞–≤–ª–µ–Ω –≤ Vercel
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Vercel Dashboard

### –°—Å—ã–ª–∫–∞ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç tg_id

–≠—Ç–æ –∑–Ω–∞—á–∏—Ç —á—Ç–æ webhook —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. –¢–æ–∫–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
2. Webhook URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
3. –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —á—Ç–æ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–∏—Ö–æ–¥—è—Ç

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ webhook

–ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏ –∫–æ–¥ –±–æ—Ç–∞:

```bash
git add .
git commit -m "update: bot logic"
git push origin main
```

Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç. Webhook –ø–µ—Ä–µ–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ.

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ Vercel:

```
[Bot] Received message from John (123456789): /start
```

–°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤: Vercel Dashboard ‚Üí Functions ‚Üí `api/bot/webhook.ts`

---

## üéØ –ß—Ç–æ –¥–∞–ª—å—à–µ?

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞:

1. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ —Å –∏—Ö Telegram ID
2. ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç VPN –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –º–∞—Å—Å–æ–≤–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–µ–π–∫–æ–≤—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ì–æ—Ç–æ–≤–æ! üöÄ
